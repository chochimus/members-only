<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="/script.js" defer></script>
    <title>Document</title>
  </head>
  <body>
    <a href="/members-only">Become a member!</a>
    <a href="/log-out">Log out</a>
    <h1>this is the homepage</h1>
    <% if (locals.errors) { %> <% errors.forEach(error => {%> <%=error.msg %> <%
    }) %> <% } %>
    <button id="createMessageButton">Create new message</button>
    <dialog id="messageDialog">
      <form action="/create-message" method="POST">
        <label>
          Title:
          <input type="text" id="messageTitle" name="messageTitle" required />
        </label>
        <label>
          Message:
          <textarea
            id="messageContent"
            name="messageContent"
            required
          ></textarea>
        </label>
        <button type="submit" id="submitButton">submit</button>
        <button type="button" id="cancelButton">cancel</button>
      </form>
    </dialog>
    <div><%- include("partials/messages.ejs") %></div>
  </body>
</html>
